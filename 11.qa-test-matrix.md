# 11. QA Test Matrix

Bu doküman, Cinselhobi.com Next projesinin QA test matrisini, kritik akış test senaryolarını, erişilebilirlik kontrol listelerini ve release gate kriterlerini tanımlar. Amaç: Murti'nin "Gemini ile kontrol/test" rolünü standardize etmek ve her release öncesi tutarlı kalite kontrolü sağlamak.

**Last verified from package.json:** 2025-01-27  
**Proje:** cinselhobi-com-next  
**Next.js:** 16.1.1  
**React:** 19.2.3

**Evidence:** `package.json` (dependencies: next@16.1.1, react@19.2.3, react-dom@19.2.3)

---

## 1. Purpose

Bu doküman şunları kapsar:

1. **Smoke Test Senaryoları:** Kritik kullanıcı akışlarının test edilmesi
2. **Route-by-Route Checklist:** Her kritik ekranın zorunlu UI elementleri ve state'leri
3. **UI States Checklist:** Loading, empty, error, success state kontrolleri
4. **Accessibility Checklist:** Klavye navigasyonu, focus yönetimi, screen reader desteği
5. **Responsive & Cross-Browser Matrix:** Farklı cihaz ve tarayıcı kombinasyonları
6. **Performance Checklist:** LCP, INP, CLS ve bundle size kontrolleri
7. **Data/Cache Regression Checks:** Cache invalidation, localStorage hydration kontrolleri
8. **API Contract Regression Checks:** Endpoint ve field uydurma yasağı kontrolleri
9. **Visual Regression:** Manuel görsel kontrol listesi
10. **Bug Report Template:** Standart hata raporlama formatı
11. **Exit Criteria:** Release gate kriterleri

**Evidence:** `03.routes-and-navigation-map.md`, `05.native-ux-rules.md`, `06.frontend-standards-2026.md`, `08.api-contracts-frontend.md`, `09.data-fetching-cache-rules.md`

---

## 2. Test Environments

### 2.1 Local Development
- **Command:** `npm run dev`
- **URL:** `http://localhost:3000`
- **Purpose:** Development sırasında hızlı test

**Evidence:** `package.json` (scripts: dev)

### 2.2 Local Production Simulation
- **Commands:** `npm run build && npm run start`
- **URL:** `http://localhost:3000`
- **Purpose:** Production build test, SSR/SSG davranışı kontrolü

**Evidence:** `package.json` (scripts: build, start)

### 2.3 Stage/Production
- **Stage URL:** Unknown (not found in repo as of scan 2025-01-27)
- **Production URL:** Unknown (not found in repo as of scan 2025-01-27)
- **Purpose:** Pre-production ve production ortam testleri

**Evidence:** Unknown (README or env files not found in repo as of scan 2025-01-27)

---

## 3. Smoke Tests (Critical User Flows)

En az 8 kritik akış test edilmelidir. Her akış için:
- **Flow ID:** SMK-XX formatında
- **Name:** Akış adı
- **Steps:** Route route adımlar
- **Expected:** Beklenen davranış (toast, loading, state)
- **Evidence:** Route map + component evidence

### SMK-01: Home → Category → Product → Add to Cart
- **Steps:**
  1. `/` - Ana sayfa yüklenir
  2. Kategori grid'den bir kategori seçilir → `/[slug]`
  3. Ürün listesinden bir ürün seçilir → `/urun/[slug]`
  4. "Sepete Ekle" butonuna tıklanır
- **Expected:**
  - Button state: "Eklendi ✓" (2s timeout)
  - Toast: "Ürün sepete eklendi" (top-center)
  - Cart icon badge güncellenir
- **Evidence:** `03.routes-and-navigation-map.md` (section 6.1), `05.native-ux-rules.md` (section 3.1), `src/components/product/product-view.tsx` (add to cart pattern)

### SMK-02: Search → Product Detail
- **Steps:**
  1. Header'da search butonuna tıklanır → Search overlay açılır
  2. Arama sorgusu yazılır (debounce 300ms)
  3. Sonuçlardan bir ürün seçilir → `/urun/[slug]`
- **Expected:**
  - Search overlay açılır (fullscreen dialog)
  - Debounced search çalışır
  - Sonuçlar gösterilir
- **Evidence:** `03.routes-and-navigation-map.md` (section 6.2), `src/components/search/search-overlay.tsx`

### SMK-03: Cart → Checkout → Order Success
- **Steps:**
  1. `/cart` - Sepet sayfası açılır
  2. "Siparişi Tamamla" butonuna tıklanır → `/checkout`
  3. Adres seçilir (veya yeni adres eklenir)
  4. Ödeme yöntemi seçilir
  5. "Siparişi Tamamla" butonuna tıklanır → `/order-success/[id]`
- **Expected:**
  - Boş sepet kontrolü: `/cart` redirect
  - Loading state: "İşleniyor..." text, button disabled
  - Success: `/order-success/[id]` redirect
- **Evidence:** `03.routes-and-navigation-map.md` (section 6.1), `05.native-ux-rules.md` (section 6.3), `src/app/checkout/page.tsx` (empty cart redirect, loading state, submit button)

### SMK-04: Login → Account → Wishlist
- **Steps:**
  1. `/login` - Giriş sayfası
  2. Email/password ile giriş yapılır
  3. `/account` - Hesap ana sayfası (auth redirect kontrolü)
  4. `/account/wishlist` - Favoriler sayfası
- **Expected:**
  - Auth kontrolü: Session yoksa `/login?callbackUrl=/account` redirect
  - Favoriler listesi gösterilir
- **Evidence:** `03.routes-and-navigation-map.md` (section 6.3), `src/app/account/layout.tsx` (auth protection)

### SMK-05: Product Detail → Add to Favorites
- **Steps:**
  1. `/urun/[slug]` - Ürün detay sayfası
  2. Favorite button'a tıklanır
- **Expected:**
  - Optimistic update: Button state hemen güncellenir
  - Server sync: Server action çağrılır
  - Rollback: Hata durumunda state geri alınır
- **Evidence:** `09.data-fetching-cache-rules.md` (section 8.2), `src/components/favorites/favorites-provider.tsx` (optimistic update pattern)

### SMK-06: Empty Cart Flow
- **Steps:**
  1. `/cart` - Sepet sayfası (boş sepet)
  2. `/checkout` - Checkout sayfasına gidilmeye çalışılır
- **Expected:**
  - Empty cart state gösterilir
  - Checkout'ta boş sepet kontrolü: `/cart` redirect
- **Evidence:** `05.native-ux-rules.md` (section 7.2), `src/app/checkout/page.tsx` (empty cart redirect)

### SMK-07: Empty Search Results
- **Steps:**
  1. Search overlay açılır
  2. Olmayan bir ürün aranır (örn: "xyz123")
- **Expected:**
  - Empty state: "Sonuç bulunamadı" + kategori linki
- **Evidence:** `05.native-ux-rules.md` (section 7.2), `src/app/search/page.tsx` (empty search state)

### SMK-08: Protected Route Access (Unauthenticated)
- **Steps:**
  1. `/account` - Hesap sayfasına gidilmeye çalışılır (session yok)
- **Expected:**
  - Auth kontrolü: `/login?callbackUrl=/account` redirect
- **Evidence:** `03.routes-and-navigation-map.md` (section 7.1), `src/app/account/layout.tsx` (auth protection)

---

## 4. Route-by-Route Checklist (Critical Screens)

Kritik ekranlar için zorunlu UI elementleri ve state kontrolleri.

| Route | Must-have UI Elements | Must-have States | Navigation Expectations | Evidence |
|-------|----------------------|------------------|------------------------|----------|
| `/` | Category grid, Product grid (LoadMoreGrid), Header, Footer, MobileBottomNav | Loading (skeleton), Empty (kategori/ürün yoksa) | Tab scroll preservation | `src/app/page.tsx`, `03.routes-and-navigation-map.md` (section 2) |
| `/[slug]` | CategoryHeaderSetter, ActiveFiltersBar, LoadMoreGrid, CatalogControls | Loading (`loading.tsx`), Empty (ürün yoksa), Error (notFound) | Back button, scroll restore | `src/app/[slug]/page.tsx`, `src/app/[slug]/loading.tsx` |
| `/urun/[slug]` | ProductView, HeaderTitle, FavoriteButton, Sticky action bar (Sepete Ekle) | Loading (`loading.tsx`), Error (notFound) | Back button, Bottom nav hidden | `src/app/urun/[slug]/page.tsx`, `src/app/urun/[slug]/loading.tsx`, `05.native-ux-rules.md` (section 12.1) |
| `/cart` | CartView (variant="page"), Header, MobileBottomNav | Empty (sepet boş), Loading (item update) | Cart drawer (mobile) | `src/app/cart/page.tsx`, `src/components/cart/cart-view.tsx` |
| `/checkout` | AddressForm (drawer), Payment method selection, Submit button | Empty (sepet boş → redirect), Loading (isLoading), Error (inline) | Back to cart | `src/app/checkout/page.tsx`, `05.native-ux-rules.md` (section 6.3) |
| `/order-success/[id]` | Order details, Success message, "Devam Et" button | Error (auth check → redirect, order not found) | - | `src/app/order-success/[id]/page.tsx`, `03.routes-and-navigation-map.md` (section 2) |
| `/search` | SearchResultItem list, Suspense fallback | Loading (Suspense), Empty (sonuç yok) | - | `src/app/search/page.tsx`, `05.native-ux-rules.md` (section 7.1) |
| `/account/*` | AccountSidebar (xl+), AccountMobileNav (xl-), Page content | Auth check (redirect), Loading, Empty (orders/wishlist boşsa) | Sidebar navigation | `src/app/account/layout.tsx`, `03.routes-and-navigation-map.md` (section 4.2) |
| `/login` | LoginForm, Input fields, Submit button | Loading (button disabled), Error (inline) | Redirect after login | `src/app/login/page.tsx`, `src/components/auth/login-form.tsx` |

**Evidence:** `03.routes-and-navigation-map.md` (section 2), `05.native-ux-rules.md` (section 7), `07.component-inventory.md` (section 8)

---

## 5. UI States Checklist (Loading/Empty/Error/Success)

### 5.1 Loading States
- [ ] **Category page (`/[slug]`):** `loading.tsx` skeleton gösterilir
- [ ] **Product detail (`/urun/[slug]`):** `loading.tsx` skeleton gösterilir
- [ ] **Search page:** Suspense fallback "Aranıyor..." gösterilir
- [ ] **Checkout submit:** Button "İşleniyor..." text, disabled state
- [ ] **Add to cart:** Button loading state (2s timeout)
- [ ] **Infinite scroll:** LoadMoreGrid'de "Daha Fazla Yükle" button loading state

**Evidence:** `src/app/[slug]/loading.tsx`, `src/app/urun/[slug]/loading.tsx`, `src/app/search/page.tsx` (Suspense fallback), `05.native-ux-rules.md` (section 7.1)

### 5.2 Empty States
- [ ] **Empty cart:** "Sepetiniz boş" + "Alışverişe Devam Et" button
- [ ] **Empty search:** "Sonuç bulunamadı" + kategori linki
- [ ] **Empty addresses:** "Henüz adres eklenmemiş" + "İlk Adresini Ekle" button
- [ ] **Empty wishlist:** "Henüz favorin yok" + "Kategorilere Git" button
- [ ] **Empty orders:** Unknown (not found in repo as of scan 2025-01-27)
- [ ] **Empty product list:** Unknown (not found in repo as of scan 2025-01-27)

**Evidence:** `05.native-ux-rules.md` (section 7.2), `src/app/checkout/page.tsx` (empty cart, empty addresses), `src/app/search/page.tsx` (empty search), `src/components/favorites/wishlist-client.tsx` (empty wishlist state)

### 5.3 Error States
- [ ] **Form validation errors:** Inline error display (`text-destructive bg-destructive/10`)
- [ ] **API errors:** Try-catch ile error handling, error state gösterilir
- [ ] **Not found (404):** Root `not-found.tsx` gösterilir
- [ ] **Product not found:** `notFound()` çağrılır, 404 gösterilir
- [ ] **Category not found:** `notFound()` çağrılır, 404 gösterilir
- [ ] **Global error boundary:** Not implemented (root error.tsx not found in repo as of scan 2025-01-27)

**Evidence:** `03.routes-and-navigation-map.md` (section 9), `05.native-ux-rules.md` (section 7.3), `src/app/not-found.tsx`

### 5.4 Success States
- [ ] **Add to cart:** Toast "Ürün sepete eklendi" (top-center, 2s)
- [ ] **Order success:** `/order-success/[id]` redirect, success message
- [ ] **Address added:** Drawer kapanır, address list refresh edilir
- [ ] **Favorite toggled:** Optimistic update + server sync

**Evidence:** `05.native-ux-rules.md` (section 3.1), `src/components/product/product-view.tsx` (toast.success), `src/app/layout.tsx` (Toaster component), `src/components/account/address-form.tsx` (form submission)

---

## 6. Accessibility Checklist

### 6.1 Keyboard Navigation
- [ ] **Tab order:** Logical tab order (DOM sırasına uygun)
- [ ] **Shift+Tab:** Reverse navigation çalışır
- [ ] **Enter/Space:** Button/link activation çalışır
- [ ] **Escape:** Dialog/Drawer kapatma çalışır
- [ ] **Arrow keys:** Unknown (dropdown/menu arrow key navigation not verified in repo as of scan 2025-01-27)

**Evidence:** `05.native-ux-rules.md` (section 9.1), `06.frontend-standards-2026.md` (section 4.2)

### 6.2 Focus Visibility & Focus Order
- [ ] **Focus ring:** Tüm interactive elementlerde `focus-visible:ring-2` görünür
- [ ] **Focus order:** Logical order (header → content → footer)
- [ ] **Skip links:** Not implemented (skip to content link not found in repo as of scan 2025-01-27)
- [ ] **Focus trap:** Dialog/Drawer açıldığında focus trap çalışır (Radix UI)

**Evidence:** `06.frontend-standards-2026.md` (section 4.1), `src/components/ui/button.tsx` (focus-visible:ring pattern), `src/components/ui/dialog.tsx` (Radix UI)

### 6.3 Dialog/Drawer Focus Management
- [ ] **Focus trap:** Dialog açıldığında focus trap aktif
- [ ] **Escape close:** Escape key ile dialog/drawer kapanır
- [ ] **Focus return:** Dialog kapandığında focus önceki elemente döner
- [ ] **sr-only close button:** Screen reader için close button mevcut

**Evidence:** `src/components/ui/dialog.tsx` (Radix UI), `src/components/ui/drawer.tsx` (Vaul)

### 6.4 Form Errors
- [ ] **aria-describedby:** Form field'larda error için `aria-describedby` kullanılır
- [ ] **aria-invalid:** Invalid field'larda `aria-invalid="true"` set edilir
- [ ] **Inline errors:** Error mesajları inline gösterilir
- [ ] **Screen reader announcements:** Not implemented (aria-live live region usage not found in repo as of scan 2025-01-27)

**Evidence:** `06.frontend-standards-2026.md` (section 4.3), `src/components/ui/input.tsx`, `src/app/checkout/page.tsx` (error display)

### 6.5 Color Contrast
- [ ] **Text contrast:** WCAG AA minimum (4.5:1 normal text, 3:1 large text)
- [ ] **Interactive elements:** Button, link contrast yeterli
- [ ] **Error states:** Error text contrast yeterli
- [ ] **Dark mode:** Dark mode'da contrast kontrolleri

**Evidence:** `04.design-system.md` (color system), `06.frontend-standards-2026.md` (section 4.4)

### 6.6 Screen Reader Labels
- [ ] **Icon buttons:** `aria-label` mevcut (örn: cart icon, favorite button)
- [ ] **Image alt text:** Product images'da `alt` attribute mevcut
- [ ] **Navigation:** `aria-current="page"` active tab için kullanılır
- [ ] **Form labels:** Input field'larda `<label>` veya `aria-label` mevcut

**Evidence:** `05.native-ux-rules.md` (section 9.3), `src/components/app/mobile-bottom-nav.tsx` (aria-label, aria-current), `src/components/cart/cart-icon-button.tsx`

---

## 7. Responsive & Cross-Browser Matrix

### 7.1 Device Breakpoints
- **Mobile (sm):** iPhone SE (375px)
- **Mobile (md):** iPhone 13 (390px)
- **Mobile (lg):** iPhone 15 Pro Max (430px)
- **Tablet:** iPad (768px)
- **Desktop (xl):** 1280px
- **Desktop (2xl):** 1536px

**Evidence:** `04.design-system.md` (breakpoints), `05.native-ux-rules.md` (section 4)

### 7.2 Browser Matrix

| Browser | Version | Mobile | Tablet | Desktop | Test Scope |
|---------|---------|--------|--------|---------|------------|
| Chrome | Latest | ✅ | ✅ | ✅ | Smoke flows + PDP/cart/checkout |
| Safari | Latest (iOS/macOS) | ✅ | ✅ | ✅ | Smoke flows + PDP/cart/checkout |
| Firefox | Latest | ✅ | - | ✅ | Smoke flows + PDP/cart/checkout |

**Assumption:** Standard browser matrix. Production'da gerçek kullanıcı verilerine göre güncellenebilir. (Browser matrix not defined in repo as of scan 2025-01-27)

### 7.3 Critical Test Scenarios (Responsive)
- [ ] **Mobile bottom nav:** 5 tab görünür, cart drawer çalışır
- [ ] **PDP bottom nav hidden:** `/urun/[slug]` sayfalarında bottom nav gizlenir
- [ ] **Sticky action bar:** Safe area support (`env(safe-area-inset-bottom)`)
- [ ] **Desktop navigation:** Mega menu dropdown çalışır
- [ ] **Tablet layout:** Account sidebar (xl+) görünür

**Evidence:** `05.native-ux-rules.md` (section 4.1, 12.1), `src/components/app/mobile-bottom-nav.tsx` (PDP bottom nav hide logic)

---

## 8. Performance Checklist

### 8.1 Core Web Vitals (Manual Check)
- [ ] **LCP (Largest Contentful Paint):** < 2.5s (hedef)
- [ ] **INP (Interaction to Next Paint):** < 200ms (hedef)
- [ ] **CLS (Cumulative Layout Shift):** < 0.1 (hedef)
- **Tool:** Chrome DevTools Lighthouse, Web Vitals extension

**Evidence:** `06.frontend-standards-2026.md` (section 5), `09.data-fetching-cache-rules.md` (section 11)

### 8.2 Bundle Size
- [ ] **Client component check:** Gereksiz "use client" yok
- [ ] **Dynamic imports:** Unknown (dynamic import pattern not found in repo as of scan 2025-01-27)
- [ ] **Bundle analysis:** `npm run build` sonrası bundle size kontrolü

**Evidence:** `06.frontend-standards-2026.md` (section 5.1, 5.3), `package.json` (build script)

### 8.3 Image Optimization
- [ ] **next/image usage:** Tüm görseller `next/image` component'i ile
- [ ] **Remote patterns:** `next.config.ts` içinde `remotePatterns` tanımlı
- [ ] **Lazy loading:** Image lazy loading çalışır

**Evidence:** `06.frontend-standards-2026.md` (section 5.2), `next.config.ts` (remotePatterns config), `src/components/product/product-view.tsx` (next/image import)

### 8.4 Infinite Scroll Performance
- [ ] **LoadMoreGrid:** Cursor pagination çalışır, duplicate önlenir
- [ ] **Deduplication:** wcId bazlı duplicate kontrolü
- [ ] **Memory leak:** AbortController ile request cancel çalışır

**Evidence:** `09.data-fetching-cache-rules.md` (section 11.2, 11.3), `src/components/catalog/load-more-grid.tsx` (deduplication logic)

---

## 9. Data/Cache Regression Checks

### 9.1 Cache Invalidation
- [ ] **Favorites mutation:** `revalidatePath` ile cache invalidate edilir
- [ ] **Admin order update:** `revalidatePath` ile cache invalidate edilir
- [ ] **revalidateTag:** Not implemented (revalidateTag not used, only revalidatePath as of scan 2025-01-27)

**Evidence:** `09.data-fetching-cache-rules.md` (section 6.4), `src/actions/favorites.ts` (revalidatePath usage), `src/actions/admin.ts` (revalidatePath usage)

### 9.2 localStorage Hydration
- [ ] **Cart hydration:** Cart state localStorage'dan hydrate edilir, `hydrated` flag çalışır
- [ ] **Favorites hydration:** Server fetch + localStorage sync çalışır
- [ ] **Tab scroll:** sessionStorage ile scroll position korunur
- [ ] **SSR/client mismatch:** `hydrated` flag ile mismatch önlenir

**Evidence:** `09.data-fetching-cache-rules.md` (section 3.3), `src/components/cart/cart-provider.tsx` (localStorage hydration pattern), `src/components/favorites/favorites-provider.tsx` (server fetch + hydration)

### 9.3 Mutation UI Updates
- [ ] **Add to cart:** UI hemen güncellenir, toast gösterilir
- [ ] **Favorites toggle:** Optimistic update + rollback çalışır
- [ ] **Order creation:** Success redirect çalışır

**Evidence:** `09.data-fetching-cache-rules.md` (section 8), `src/components/product/product-view.tsx` (add to cart pattern), `src/components/favorites/favorites-provider.tsx` (optimistic update pattern)

---

## 10. API Contract Regression Checks

### 10.1 Endpoint Uydurma Yasağı
- [ ] **Products API:** `/api/products` endpoint contract bozulmamış
- [ ] **Product detail API:** `/api/products/[slug]` contract bozulmamış
- [ ] **Search API:** `/api/search` contract bozulmamış
- [ ] **Auth endpoints:** NextAuth endpoints çalışır

**Evidence:** `08.api-contracts-frontend.md` (section 5), `03.routes-and-navigation-map.md` (section 3)

### 10.2 Field Uydurma Yasağı
- [ ] **Product response:** Product response shape değişmemiş
- [ ] **Pagination:** Cursor pagination contract bozulmamış (`nextCursor` field)
- [ ] **Filter params:** Filter query params bozulmamış (`sort`, `min`, `max`, `inStock`, `sub`)

**Evidence:** `08.api-contracts-frontend.md` (section 4.3, 7.1), `src/app/api/products/route.ts`

### 10.3 Server Action Contracts
- [ ] **Checkout action:** `createOrderAction` input/output shape bozulmamış
- [ ] **Favorites actions:** `toggleFavoriteAction`, `getMyFavoritesAction` contract bozulmamış
- [ ] **Address actions:** Address CRUD actions contract bozulmamış

**Evidence:** `08.api-contracts-frontend.md` (section 7), `src/actions/checkout.ts`, `src/actions/favorites.ts`, `src/actions/address.ts`

---

## 11. Visual Regression (Manual)

Manuel görsel kontrol listesi. Her release öncesi "Before/After screenshot" alınmalı.

### 11.1 Critical UI Components
- [ ] **Header:** Mobile/Desktop header görünümü
- [ ] **Product detail gallery:** Image gallery, zoom, navigation
- [ ] **Price block:** Fiyat gösterimi, indirim badge
- [ ] **CTA buttons:** Sepete Ekle, Siparişi Tamamla button'ları
- [ ] **Cart summary:** Sepet özeti, toplam fiyat
- [ ] **Checkout form:** Adres formu, ödeme yöntemi seçimi

**Evidence:** `07.component-inventory.md` (section 5), `04.design-system.md`

### 11.2 Dark Mode
- [ ] **Dark mode toggle:** Theme toggle çalışır
- [ ] **Color contrast:** Dark mode'da contrast yeterli
- [ ] **Image visibility:** Dark mode'da görseller görünür

**Evidence:** `src/components/theme/theme-toggle.tsx`, `04.design-system.md` (dark mode tokens)

### 11.3 Mobile-Specific
- [ ] **Bottom nav:** 5 tab görünümü, active state
- [ ] **Cart drawer:** Drawer açılma/kapanma animasyonu
- [ ] **Sticky action bar:** Safe area support, iOS home indicator

**Evidence:** `05.native-ux-rules.md` (section 4.1, 4.2), `src/components/app/mobile-bottom-nav.tsx`

---

## 12. Bug Report Template

Kopyalanabilir bug report şablonu.

```markdown
## Bug Summary
[Kısa özet - 1 cümle]

## Environment
- **Browser:** [Chrome/Safari/Firefox + version]
- **Device:** [iPhone 13 / iPad / Desktop]
- **OS:** [iOS 17 / macOS 14 / Windows 11]
- **URL:** [Hangi sayfa/route]
- **User:** [Authenticated/Guest]

## Steps to Reproduce
1. [Adım 1]
2. [Adım 2]
3. [Adım 3]

## Expected Behavior
[Ne olması gerekiyordu]

## Actual Behavior
[Ne oldu]

## Screenshots/Video
[Ekran görüntüsü veya video linki]

## Console/Network Logs
[Browser console hataları, network request/response]

## Suspected Area
- **Route:** [örn: `/urun/[slug]`]
- **Component:** [örn: `ProductView`]
- **File:** [örn: `src/components/product/product-view.tsx`]

## Severity
- [ ] S0 - Critical (site down, checkout broken)
- [ ] S1 - High (major feature broken)
- [ ] S2 - Medium (minor feature broken, workaround var)
- [ ] S3 - Low (cosmetic, edge case)
```

**Evidence:** Best practice (standard bug report format)

---

## 13. Exit Criteria (Release Gate)

Release için minimum kriterler. Tümü PASS olmalı.

### 13.1 Critical Checks
- [ ] **Tüm smoke testler PASS:** SMK-01 ile SMK-08 arası tüm akışlar çalışır
- [ ] **Critical a11y issues yok:** Keyboard navigation, focus trap çalışır
- [ ] **Build PASS:** `npm run build` hatasız geçer
- [ ] **Lint PASS:** `npm run lint` hatasız geçer
- [ ] **High severity bug yok:** S0, S1 severity bug'lar fix edilmiş
- [ ] **Checkout akışı PASS:** SMK-03 (Cart → Checkout → Success) çalışır

### 13.2 Nice-to-Have
- [ ] **Performance metrics:** LCP < 2.5s, INP < 200ms, CLS < 0.1
- [ ] **Visual regression:** Critical UI component'lerde görsel değişiklik yok
- [ ] **Cross-browser:** Chrome, Safari, Firefox'ta smoke testler PASS

**Evidence:** `06.frontend-standards-2026.md` (section 12), `10.tasks-playbook.md` (DoD checklist)

---

## 14. Evidence Index

En önemli kanıt dosyaları ve referanslar:

1. **03.routes-and-navigation-map.md** - Route table, kritik akışlar (section 6)
2. **05.native-ux-rules.md** - UX kuralları, toast pattern, button states (section 3.1, 7)
3. **06.frontend-standards-2026.md** - DoD, kalite kapıları (section 12)
4. **08.api-contracts-frontend.md** - API endpoint contracts, uydurma yasağı
5. **09.data-fetching-cache-rules.md** - Cache invalidation, localStorage hydration
6. **07.component-inventory.md** - Component envanteri, kritik component'ler
7. **src/app/page.tsx** - Ana sayfa, Server Component pattern
8. **src/app/[slug]/page.tsx** - Kategori sayfası, loading state
9. **src/app/urun/[slug]/page.tsx** - Ürün detay, notFound pattern
10. **src/app/checkout/page.tsx** - Checkout flow, form validation, error handling
11. **src/app/cart/page.tsx** - Sepet sayfası
12. **src/app/search/page.tsx** - Arama sayfası, Suspense pattern
13. **src/components/product/product-view.tsx** - Add to cart pattern, toast
14. **src/components/cart/cart-provider.tsx** - Cart state, localStorage hydration
15. **src/components/favorites/favorites-provider.tsx** - Optimistic UI, rollback pattern
16. **src/components/app/mobile-bottom-nav.tsx** - Bottom nav, PDP hide exception
17. **src/app/[slug]/loading.tsx** - Category loading state
18. **src/app/urun/[slug]/loading.tsx** - Product loading state
19. **src/app/not-found.tsx** - Root not-found page
20. **src/actions/checkout.ts** - Checkout server action, Zod validation
21. **src/actions/favorites.ts** - Favorites server actions, revalidatePath
22. **src/app/api/products/route.ts** - Products API, cursor pagination
23. **src/app/api/search/route.ts** - Search API, error handling
24. **package.json** - Scripts (dev, build, lint), dependencies
25. **04.design-system.md** - Design tokens, color system
26. **src/components/favorites/wishlist-client.tsx** - Empty wishlist state
27. **src/components/account/address-form.tsx** - Address form, form submission
28. **src/components/cart/cart-view.tsx** - Empty cart state
29. **next.config.ts** - Image remotePatterns configuration
30. **src/app/account/layout.tsx** - Account layout, auth protection

---

**Not:** Bu doküman, repo'nun mevcut durumuna göre oluşturulmuştur. Yeni route'lar, component'ler veya API contract'lar eklendiğinde bu doküman güncellenmelidir.

