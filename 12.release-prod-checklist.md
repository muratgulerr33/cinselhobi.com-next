# 12. Release Production Checklist

Bu doküman, Cinselhobi.com Next projesinin production release öncesi ve sonrası yapılacakları "tek doğru checklist" olarak dokümante eder. Amaç: env/cache/route/API/UX kalite kapılarını release anında kaçırmayı engellemek.

**As of repo scan:** 2025-01-27  
**Proje:** cinselhobi-com-next  
**Next.js:** 16.1.1  
**React:** 19.2.3

**Evidence:** `package.json` (dependencies: next@16.1.1, react@19.2.3, react-dom@19.2.3)

---

## 1. Purpose

Bu checklist şunları garanti eder:

1. **Build & Lint Kontrolü:** Production build başarılı, lint hatası yok
2. **Route Doğrulama:** Kırık link yok, dynamic slug conflicts kontrolü
3. **API Contract Korunması:** Endpoint/field uydurma yok, pagination/filter/sort bozulmadı
4. **Cache/ISR Doğrulama:** Cache invalidation, localStorage hydration, revalidate kuralları korunuyor
5. **UX/A11y Kalite:** Kritik feedback pattern'leri, keyboard navigation, focus yönetimi çalışıyor
6. **Env & Secrets Güvenliği:** Production env variable'ları doğru, `NEXT_PUBLIC_*` anahtarları kontrol edildi
7. **Rollback Hazırlığı:** Riskli değişiklikler için rollback planı mevcut
8. **Post-Release Doğrulama:** Smoke testler, API health, critical UI kontrolleri

**Evidence:** `06.frontend-standards-2026.md` (DoD), `11.qa-test-matrix.md` (exit criteria), `08.api-contracts-frontend.md` (contract rules), `09.data-fetching-cache-rules.md` (cache rules), `03.routes-and-navigation-map.md` (route validation)

---

## 2. Release Types

### 2.1 Hotfix (Kritik Bug)
**Minimum Gates:**
- [ ] `npm run lint` PASS
- [ ] `npm run build` PASS
- [ ] Manuel smoke: Kritik akış (checkout, sepete ekleme) çalışıyor
- [ ] Rollback planı hazır

**Evidence:** `package.json` (scripts: lint, build), `11.qa-test-matrix.md` (smoke tests)

### 2.2 Minor UI Release
**Minimum Gates:**
- [ ] `npm run lint` PASS
- [ ] `npm run build` PASS
- [ ] Manuel smoke: SMK-01, SMK-02, SMK-03 (11.qa-test-matrix.md'ye göre)
- [ ] Visual regression: Değişen UI component'leri kontrol edildi
- [ ] Mobile test: Bottom nav, cart drawer çalışıyor

**Evidence:** `11.qa-test-matrix.md` (smoke tests, visual regression)

### 2.3 Feature Release
**Minimum Gates:**
- [ ] Tüm Pre-Release Checklist (Local) PASS
- [ ] Tüm Pre-Release Checklist (CI) PASS
- [ ] Env & Secrets Checklist PASS
- [ ] Routing & Navigation Checklist PASS
- [ ] API Contract Checklist PASS
- [ ] Data/Cache/ISR Checklist PASS
- [ ] UX/A11y Checklist PASS
- [ ] Post-Release Verification PASS

**Evidence:** Bu doküman (tüm bölümler)

### 2.4 Config/Env Only
**Minimum Gates:**
- [ ] Env & Secrets Checklist PASS
- [ ] `npm run build` PASS (env değişikliği build'i bozmadı)
- [ ] Manuel smoke: Env'e bağlı ekranlar çalışıyor (örn: API base URL değiştiyse)

**Evidence:** `package.json` (build script), Env & Secrets Checklist (section 5)

---

## 3. Pre-Release Checklist (Local)

### 3.1 Lint & Type Check
- [ ] `npm run lint` hatasız geçiyor
- [ ] `npm run build` TypeScript hataları yok (build sırasında kontrol ediliyor)

**Evidence:** `package.json` (scripts: lint, build), `06.frontend-standards-2026.md` (section 12: DoD)

### 3.2 Build Test
- [ ] `npm run build` başarılı
- [ ] Build output: `.next/` klasörü oluştu
- [ ] Build hatası yok (route errors, missing dependencies, vb.)

**Evidence:** `package.json` (scripts: build)

### 3.3 Production Simulation
- [ ] `npm run build && npm run start` çalışıyor
- [ ] `http://localhost:3000` açılıyor
- [ ] SSR/SSG davranışı doğru (Server Component'ler render ediliyor)

**Evidence:** `package.json` (scripts: build, start), `11.qa-test-matrix.md` (section 2.2: Local Production Simulation)

### 3.4 Manuel Smoke Tests
**Minimum Smoke Tests (11.qa-test-matrix.md'ye göre):**
- [ ] SMK-01: Home → Category → Product → Add to Cart (toast + button state)
- [ ] SMK-02: Search → Product Detail
- [ ] SMK-03: Cart → Checkout → Order Success (boş sepet kontrolü, loading state)
- [ ] SMK-04: Login → Account → Wishlist (auth redirect çalışıyor)

**Evidence:** `11.qa-test-matrix.md` (section 3: Smoke Tests)

---

## 4. Pre-Release Checklist (CI)

### 4.1 CI Configuration
- [ ] CI config var mı? (GitHub Actions, GitLab CI, vb.)
  - [ ] Lint step var
  - [ ] Build step var
  - [ ] Test step var (varsa)
  - [ ] Cache steps var (node_modules, .next cache)

**Evidence:** Unknown (CI config dosyası bulunamadı, as of repo scan: 2025-01-27)

### 4.2 CI Pipeline
- [ ] CI pipeline başarılı geçiyor
- [ ] Build artifact oluşuyor (varsa)
- [ ] Deployment trigger çalışıyor (varsa)

**Evidence:** Unknown (CI config yok)

---

## 5. Env & Secrets Checklist

### 5.1 Environment Files
**Dosya İsimleri (değer yok):**
- [ ] `.env.local` (local development, gitignore'da)
- [ ] `.env` (default, gitignore'da olabilir)
- [ ] `.env.production` (production secrets, gitignore'da)

**Evidence:** `.gitignore` (env files ignore edilir, assumption)

### 5.2 Observed env keys (found in code/docs)
**Backend Env (Frontend'den erişilmiyor, kodda kullanılıyor):**
- [ ] `DATABASE_URL` - PostgreSQL connection string (kodda kullanılıyor)
- [ ] `AUTH_SECRET` - NextAuth.js secret (kodda kullanılıyor)
- [ ] `AUTH_URL` - NextAuth.js base URL (dokümanlarda geçiyor)

**Evidence:** `src/db/connection.ts` (DATABASE_URL usage), `src/auth.ts` (AUTH_SECRET check), `08.api-contracts-frontend.md` (section 2.2: Environment Variables), `02.architecture-lock.md` (env keys)

### 5.3 Expected env keys (if used)
**Frontend Env (NEXT_PUBLIC_*):**
- [ ] `NEXT_PUBLIC_*` env variable'ları: As of repo scan 2025-01-27, no `NEXT_PUBLIC_*` usage detected in codebase

**Evidence:** `grep -r "NEXT_PUBLIC_"` (as of repo scan 2025-01-27: 0 files found), `08.api-contracts-frontend.md` (section 2.2: "Frontend'de NEXT_PUBLIC_* env variable'ları kullanılmıyor")

**Assumption:** Frontend tüm API çağrılarını relative path ile yapıyor, external API base URL'i yok. Eğer ileride `NEXT_PUBLIC_*` kullanılacaksa bu bölüm güncellenmelidir.

### 5.4 Env Değişikliği Impact
- [ ] Env değişince hangi ekran etkilenir? (örn: API base URL değiştiyse tüm fetch'ler)
- [ ] Env değişikliği build'i bozmadı (`npm run build` PASS)

**Evidence:** `08.api-contracts-frontend.md` (section 2.1: Internal API Routes - relative path kullanılıyor, env değişikliği etkilemez)

---

## 6. Build & Artifact Checklist

### 6.1 Node & Package Manager
- [ ] Node sürümü: Unknown (package.json'da engines field yok)
- [ ] Package manager: npm (as of repo scan 2025-01-27: `package-lock.json` detected)
- [ ] Lockfile commit edilmiş: `package-lock.json` (npm lockfile)

**Evidence:** `package.json` (engines field yok), `package-lock.json` (as of repo scan 2025-01-27: npm lockfile detected)

### 6.2 Build Output
- [ ] Build output: `.next/` klasörü
- [ ] Static assets: `public/` klasörü build'e dahil
- [ ] Images: `next/image` remotePatterns doğru (`next.config.ts`)

**Evidence:** `next.config.ts` (images.remotePatterns), `06.frontend-standards-2026.md` (section 5.2: Image Optimization)

### 6.3 Bundle Size
- [ ] Bundle şişmesi kontrolü: Chrome DevTools → Network → JS bundle size
- [ ] Gereksiz "use client" yok (Server Component default)
- [ ] Dynamic import pattern kullanılıyor mu? Unknown (codebase'de görülmedi)

**Evidence:** `06.frontend-standards-2026.md` (section 5.1, 5.3: Client Component Optimization, Bundle Size)

---

## 7. Routing & Navigation Checklist

### 7.1 Route Validation
- [ ] Kırık link yok (Footer, Header, Mobile Bottom Nav linkleri çalışıyor)
- [ ] Dynamic slug conflicts: `RESERVED_SLUGS` kontrolü (`/[slug]` route'u için)
- [ ] Not-found coverage: `notFound()` çağrıları doğru (`/[slug]`, `/urun/[slug]`)

**Evidence:** `03.routes-and-navigation-map.md` (section 8.1: Dynamic Route Params, section 9.3: Not-Found States), `src/components/layout/header.tsx` (RESERVED_SLUGS array)

### 7.2 Navigation Links
- [ ] Footer linkleri çalışıyor (`/about`, `/support`, `/gizlilik-ve-guvenlik`, vb.)
- [ ] Header navigation çalışıyor (mega menu, search overlay)
- [ ] Mobile bottom nav çalışıyor (5 tab: Home, Categories, Cart, Wishlist, Profile)
- [ ] Account sidebar navigation çalışıyor (`/account/*` routes)

**Evidence:** `03.routes-and-navigation-map.md` (section 5: Navigation Entry Points), `src/components/app/Footer.tsx`, `src/components/app/mobile-bottom-nav.tsx`

### 7.3 Broken Link Risk
- [ ] Footer'da `/sss` linki var ama route yok (404 riski) - bilinen gap

**Evidence:** `03.routes-and-navigation-map.md` (section 9.4: Gaps), `src/components/app/Footer.tsx` ("/sss" link)

---

## 8. API Contract Checklist

### 8.1 Endpoint Uydurma Yasağı
- [ ] Yeni endpoint eklenmedi (sadece mevcut endpoint'ler kullanılıyor)
- [ ] Endpoint contract'ları bozulmadı:
  - [ ] `/api/products` - cursor pagination, filter params
  - [ ] `/api/products/[slug]` - product detail response shape
  - [ ] `/api/search` - search response shape
  - [ ] `/api/auth/[...nextauth]` - NextAuth endpoints
  - [ ] `/api/auth/signup` - signup request/response

**Evidence:** `08.api-contracts-frontend.md` (section 5: API Inventory), `10.tasks-playbook.md` (uydurma yasağı)

### 8.2 Field Uydurma Yasağı
- [ ] Product response shape değişmedi (`id`, `wcId`, `slug`, `name`, `price`, `images`, vb.)
- [ ] Pagination contract bozulmadı (`nextCursor` field)
- [ ] Filter params bozulmadı (`sort`, `min`, `max`, `inStock`, `sub`)

**Evidence:** `08.api-contracts-frontend.md` (section 4.3: Pagination/Filter/Sort, section 7.1: Product Contracts)

### 8.3 Server Action Contracts
- [ ] `createOrderAction` input/output shape bozulmadı
- [ ] `toggleFavoriteAction`, `getMyFavoritesAction` contract bozulmadı
- [ ] Address CRUD actions contract bozulmadı

**Evidence:** `08.api-contracts-frontend.md` (section 7: Contracts by Feature), `src/actions/checkout.ts`, `src/actions/favorites.ts`, `src/actions/address.ts`

---

## 9. Data/Cache/ISR Checklist

### 9.1 Cache-Control & Dynamic Rules
- [ ] `/api/products` route: `dynamic = "force-dynamic"`, `revalidate = 0`, `Cache-Control: no-store` korunuyor
- [ ] `/api/products/[slug]` route: `dynamic = "force-dynamic"` korunuyor
- [ ] `/api/search` route: Cache config değişmedi (default dynamic)

**Evidence:** `09.data-fetching-cache-rules.md` (section 6.1: API Route Cache Settings), `src/app/api/products/route.ts` (dynamic, revalidate, Cache-Control)

### 9.2 Cache Invalidation (revalidatePath)
- [ ] Favorites mutation: `revalidatePath` ile cache invalidate ediliyor
- [ ] Admin order update: `revalidatePath` ile cache invalidate ediliyor
- [ ] `revalidateTag` kullanılmıyor (sadece `revalidatePath` kullanılıyor)

**Evidence:** `09.data-fetching-cache-rules.md` (section 6.4: Cache Invalidation), `src/actions/favorites.ts` (revalidatePath), `src/actions/admin.ts` (revalidatePath)

### 9.3 localStorage Hydration
- [ ] Cart hydration: `hydrated` flag çalışıyor, SSR/client mismatch yok
- [ ] Favorites hydration: Server fetch + localStorage sync çalışıyor
- [ ] Tab scroll: sessionStorage ile scroll position korunuyor

**Evidence:** `09.data-fetching-cache-rules.md` (section 3.3: Provider State, section 9.2: localStorage Hydration), `src/components/cart/cart-provider.tsx` (hydrated flag)

### 9.4 Mutation UI Updates
- [ ] Add to cart: UI hemen güncelleniyor, toast gösteriliyor
- [ ] Favorites toggle: Optimistic update + rollback çalışıyor
- [ ] Order creation: Success redirect çalışıyor (`/order-success/[id]`)

**Evidence:** `09.data-fetching-cache-rules.md` (section 8: Mutations & Optimistic UI), `src/components/product/product-view.tsx` (add to cart), `src/components/favorites/favorites-provider.tsx` (optimistic update)

### 9.5 ISR Usage
- [ ] ISR kullanılmıyor (force-dynamic tercih ediliyor, real-time data için)

**Evidence:** `09.data-fetching-cache-rules.md` (section 7: ISR/Revalidate Rules)

---

## 10. UX/A11y Checklist

### 10.1 Critical Feedback Patterns
- [ ] Add to cart: Button state "Eklendi ✓" (2s timeout) + toast "Ürün sepete eklendi"
- [ ] Checkout submit: Loading state "İşleniyor..." + button disabled
- [ ] Toast position: `top-center` (Sonner config)

**Evidence:** `05.native-ux-rules.md` (section 3.1: Critical Action Feedback Pattern), `src/components/product/product-view.tsx` (add to cart), `src/app/layout.tsx` (Toaster config)

### 10.2 Mobile UX
- [ ] PDP bottom nav hidden: `/urun/[slug]` sayfalarında bottom nav gizleniyor
- [ ] Sticky action bar: Safe area support (`env(safe-area-inset-bottom)`)
- [ ] Touch targets: Minimum 44px (`h-11` veya daha büyük)

**Evidence:** `05.native-ux-rules.md` (section 2.1: Critical CTA Visibility, section 4.1: Mobile Bottom Navigation Rules), `src/components/app/mobile-bottom-nav.tsx` (PDP hide logic)

### 10.3 Keyboard Navigation
- [ ] Focus ring: `focus-visible:ring-2` görünür
- [ ] Tab order: Logical order (DOM sırasına uygun)
- [ ] Escape key: Dialog/Drawer kapatma çalışıyor
- [ ] Focus trap: Dialog açıldığında focus trap aktif (Radix UI)

**Evidence:** `06.frontend-standards-2026.md` (section 4.1, 4.2: Focus Visibility, Keyboard Navigation), `src/components/ui/dialog.tsx` (Radix UI)

### 10.4 Form Errors
- [ ] Inline error display: `text-destructive bg-destructive/10` pattern
- [ ] ARIA connection: `aria-describedby` veya `aria-invalid` kullanılıyor (varsa)

**Evidence:** `06.frontend-standards-2026.md` (section 4.3: Form Error Messages), `src/app/checkout/page.tsx` (error display)

### 10.5 Reduced Motion
- [ ] `useReducedMotion()` hook kullanılıyor (framer-motion)
- [ ] Reduced motion aktifse animasyon disable ediliyor

**Evidence:** `05.native-ux-rules.md` (section 8.2: Reduced Motion Support), `src/components/app/page-transition.tsx` (useReducedMotion)

---

## 11. Observability Checklist

### 11.1 Error Tracking
- [ ] Error tracking var mı? (Sentry, LogRocket, vb.)
  - [ ] Error tracking config doğru
  - [ ] Error boundaries var mı? Unknown (root error.tsx yok)

**Evidence:** Unknown (error tracking tool yok, as of repo scan: 2025-01-27), `06.frontend-standards-2026.md` (section 7.1: Error Boundaries - root error.tsx yok)

### 11.2 Logging
- [ ] Structured logging var mı? Unknown (console.error kullanılıyor)
- [ ] Production log level ayarlı mı? Unknown

**Evidence:** `09.data-fetching-cache-rules.md` (section 9.1: API Route Error Handling - console.error), Unknown (structured logging yok)

### 11.3 Analytics Events
- [ ] Analytics events var mı? (Google Analytics, Plausible, vb.)
  - [ ] Event tracking config doğru
  - [ ] Critical events track ediliyor (add to cart, checkout, vb.)

**Evidence:** Unknown (analytics tool yok, as of repo scan: 2025-01-27)

### 11.4 Open Items
- [ ] Error tracking: Open item (Sentry veya benzeri tool eklenmeli)
- [ ] Structured logging: Open item (console.error yerine structured logging)
- [ ] Analytics: Open item (analytics events eklenmeli)

**Evidence:** Unknown (observability tools yok)

---

## 12. Rollback Plan

### 12.1 Rollback Yöntemleri
- [ ] **Revert commit:** Git revert ile son commit geri alınabilir
- [ ] **Redeploy previous release (Kamatera VPS):**
  - Sunucuya SSH ile gir
  - Uygulama dizininde (`/var/www/cinselhobi.com-next`) `git` ile önceki stabil commit/tag'e dön (hangi tag/commit kullanıldığı Unknown ise not düş)
  - Deploy dokümanındaki akışla tekrar build al (`npm ci`, `npm run build`)
  - PM2 ile process'i restart et (`pm2 restart cinselhobi-next`)
- [ ] **Hotfix revert (self-hosted):**
  - `git revert` ile hatalı commit'i geri al
  - Deploy dokümanındaki standart deploy akışını tekrar çalıştır (`git pull`, `npm ci`, `npm run build`, `pm2 restart cinselhobi-next`)
- [ ] **Config-only rollback:**
  - Env değişikliği ise: önce eski env değerlerine dön, PM2 reload/restart + `--update-env` ihtiyacı varsa deploy dokümanına göre uygula (dokümanda yoksa Unknown yaz)
- [ ] **Feature flag:** Feature flag kullanılıyor mu? Unknown (feature flag tool yok)

**Evidence:** `01.project-brief.md` (Goals: Kamatera VPS self-hosted), `docs/04-deploy-kamatera-pm2.md` (deploy/pm2 akışı), `12.release-prod-checklist.md` (Rollback hazırlığı)

### 12.2 Riskli Değişiklikler
**En riskli değişiklikler ve geri dönüş adımları:**
- [ ] **Database schema değişikliği:** Migration rollback planı hazır mı?
- [ ] **API contract değişikliği:** Breaking change varsa versioning/feature flag planı var mı?
- [ ] **Auth flow değişikliği:** NextAuth.js config değiştiyse rollback test edildi mi?
- [ ] **State management değişikliği:** Provider hiyerarşisi değiştiyse rollback test edildi mi?

**Evidence:** `02.architecture-lock.md` (section 2: Non-Negotiables), `10.tasks-playbook.md` (rollback stratejisi)

### 12.3 DB Migration Note
- [ ] **DB migration yoksa:** Frontend scope'unda DB migration yok, rollback sadece code revert

**Evidence:** `02.architecture-lock.md` (section 2.3: Database & ORM - migration pattern)

---

## 13. Post-Release Verification

### 13.1 Smoke Tests
- [ ] SMK-01: Home → Category → Product → Add to Cart (toast + button state)
- [ ] SMK-02: Search → Product Detail
- [ ] SMK-03: Cart → Checkout → Order Success (boş sepet kontrolü, loading state)
- [ ] SMK-04: Login → Account → Wishlist (auth redirect)
- [ ] SMK-05: Product Detail → Add to Favorites (optimistic update)
- [ ] SMK-06: Empty Cart Flow (empty state, redirect)
- [ ] SMK-07: Empty Search Results (empty state)
- [ ] SMK-08: Protected Route Access (unauth redirect)

**Evidence:** `11.qa-test-matrix.md` (section 3: Smoke Tests)

### 13.2 API Health
- [ ] `/api/products` çalışıyor (cursor pagination, filter params)
- [ ] `/api/products/[slug]` çalışıyor (product detail)
- [ ] `/api/search` çalışıyor (search query)
- [ ] `/api/auth/[...nextauth]` çalışıyor (NextAuth endpoints)

**Evidence:** `08.api-contracts-frontend.md` (section 5: API Inventory), `11.qa-test-matrix.md` (section 10: API Contract Regression Checks)

### 13.3 Cache Behavior
- [ ] Cart hydration çalışıyor (localStorage → UI sync)
- [ ] Favorites hydration çalışıyor (server fetch + localStorage sync)
- [ ] Cache invalidation çalışıyor (favorites toggle sonrası UI güncelleniyor)

**Evidence:** `09.data-fetching-cache-rules.md` (section 9.2: localStorage Hydration, section 9.3: Mutation UI Updates)

### 13.4 Critical UI
- [ ] PDP: Sticky action bar görünür, bottom nav gizli
- [ ] Cart: Drawer açılıyor (mobile), empty state çalışıyor
- [ ] Checkout: Form validation çalışıyor, loading state çalışıyor, error display çalışıyor
- [ ] Mobile bottom nav: 5 tab görünür, active state çalışıyor

**Evidence:** `05.native-ux-rules.md` (section 4.1: Mobile Bottom Navigation Rules, section 6.3: Checkout Flow UX), `11.qa-test-matrix.md` (section 4: Route-by-Route Checklist)

### 13.5 Error Logs
- [ ] Error logs kontrol edildi (varsa: Sentry, console errors, vb.)
- [ ] Critical error yok (S0, S1 severity)

**Evidence:** Unknown (error tracking tool yok), `11.qa-test-matrix.md` (section 12: Bug Report Template)

---

## 14. Incident Playbook (Quick)

### 14.1 Severity Definitions
- **S0 - Critical:** Site down, checkout broken, tüm kullanıcılar etkileniyor
- **S1 - High:** Major feature broken (sepete ekleme, arama, vb.)
- **S2 - Medium:** Minor feature broken, workaround var
- **S3 - Low:** Cosmetic, edge case

**Evidence:** `11.qa-test-matrix.md` (section 12: Bug Report Template - Severity)

### 14.2 İlk 10 Dakika
- [ ] **Rollback mi hotfix mi?** Karar verildi
  - S0/S1: Rollback (bkz. 12.1 — Redeploy previous release (Kamatera VPS + PM2))
  - S2/S3: Hotfix (hızlı fix + redeploy)
- [ ] **Impact değerlendirmesi:** Kaç kullanıcı etkileniyor? (analytics, error logs)
- [ ] **Communication:** Kullanıcılara bilgi verildi mi? (varsa: status page, email, vb.)

**Evidence:** `11.qa-test-matrix.md` (section 12: Bug Report Template), `10.tasks-playbook.md` (rollback stratejisi)

### 14.3 Kim Bilgilendirilecek?
- [ ] **Internal:** Development team, product owner
- [ ] **External:** Kullanıcılar (varsa: status page, email notification)

**Evidence:** Unknown (communication plan yok)

### 14.4 Not Alma Standardı
- [ ] **Incident report:** Bug summary, environment, steps to reproduce, expected vs actual behavior
- [ ] **Root cause:** Neden oldu? (code change, env change, dependency update, vb.)
- [ ] **Prevention:** Nasıl önlenebilir? (test coverage, CI/CD gate, vb.)

**Evidence:** `11.qa-test-matrix.md` (section 12: Bug Report Template)

---

## 15. Evidence Index

En önemli kanıt dosyaları ve referanslar:

1. **package.json** - Scripts (dev, build, lint, start), dependencies (next@16.1.1, react@19.2.3)
2. **next.config.ts** - Image remotePatterns configuration
3. **06.frontend-standards-2026.md** - DoD, kalite kapıları (section 12)
4. **11.qa-test-matrix.md** - Smoke test senaryoları, exit criteria (section 3, 13)
5. **08.api-contracts-frontend.md** - API endpoint contracts, uydurma yasağı
6. **09.data-fetching-cache-rules.md** - Cache invalidation, localStorage hydration, revalidatePath
7. **03.routes-and-navigation-map.md** - Route table, RESERVED_SLUGS, navigation links
8. **05.native-ux-rules.md** - UX kuralları, toast pattern, button states, mobile UX
9. **02.architecture-lock.md** - Architecture decisions, yasaklar, hard constraints
10. **10.tasks-playbook.md** - Rollback stratejisi, DoD checklist
11. **src/app/api/products/route.ts** - Products API, force-dynamic, revalidate=0, no-store
12. **src/app/api/products/[slug]/route.ts** - Product detail API, force-dynamic
13. **src/app/api/search/route.ts** - Search API, error handling
14. **src/actions/checkout.ts** - Checkout server action, Zod validation
15. **src/actions/favorites.ts** - Favorites server actions, revalidatePath
16. **src/components/cart/cart-provider.tsx** - Cart state, localStorage hydration, hydrated flag
17. **src/components/favorites/favorites-provider.tsx** - Optimistic UI, rollback pattern
18. **src/components/product/product-view.tsx** - Add to cart pattern, toast, button state
19. **src/components/app/mobile-bottom-nav.tsx** - Bottom nav, PDP hide exception, safe area
20. **src/app/checkout/page.tsx** - Checkout flow, form validation, error handling, loading state
21. **src/app/layout.tsx** - Toaster component, toast config (position: top-center)
22. **src/components/layout/header.tsx** - RESERVED_SLUGS array
23. **src/components/app/Footer.tsx** - Footer navigation links (broken link: /sss)
24. **src/app/[slug]/page.tsx** - Category page, RESERVED_SLUGS kontrolü, notFound()
25. **src/app/urun/[slug]/page.tsx** - Product detail page, notFound()

**Evidence:** Tüm yukarıdaki dosyalar codebase'de mevcut ve kanıt olarak kullanıldı

---

**Not:** Bu doküman, repo'nun mevcut durumuna göre oluşturulmuştur. Yeni route'lar, API endpoint'leri, component'ler veya cache kuralları eklendiğinde bu doküman güncellenmelidir.

