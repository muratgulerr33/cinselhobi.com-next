# 05. Native UX Rules

Bu doküman, Cinselhobi.com Next projesinin "native app hissi" veren UX kurallarını, dokunsal etkileşim standartlarını ve kullanıcı geri bildirimi pattern'lerini tanımlar. Amaç: AI asistanların (Cursor/Gemini) tutarlı, native-feel UX tasarımı yapmasını sağlamak ve UI/UX çizgisini korumak.

**Last verified from package.json:** 2025-12-31  
**Proje:** cinselhobi-com-next  
**Next.js:** 16.1.1  
**React:** 19.2.3

**Evidence:** `package.json` (dependencies: next@16.1.1, react@19.2.3, react-dom@19.2.3)

---

## 1. Purpose

1. **Native App Hissi:** Web uygulaması native mobile app gibi davranmalı - dokunsal feedback, smooth transitions, instant feedback
2. **AI Asistan Rehberi:** Gemini/Cursor'un "fazla tasarım uydurmasını" engellemek, mevcut UX pattern'lerini korumak
3. **Tutarlılık:** Kritik aksiyonlarda (sepete ekleme, checkout, vb.) standart feedback pattern'leri
4. **Mobile-First:** Tek elle kullanım, thumb-zone optimizasyonu, safe area desteği
5. **Accessibility:** Klavye navigasyonu, screen reader desteği, reduced motion uyumu

**Evidence:** `src/components/product/product-view.tsx` (toast + button state), `src/components/app/mobile-bottom-nav.tsx` (thumb-zone), `src/components/app/page-transition.tsx` (reduced motion)

---

## 2. Native UX Principles (Hard Rules)

### 2.1 Critical CTA Visibility
- **Sticky Action Bars:** Ürün detay sayfalarında (`/urun/[slug]`) kritik CTA (Sepete Ekle) her zaman görünür olmalı - `fixed bottom-0` pattern (kanıt: `src/components/product/product-view.tsx` lines 268-308, `src/components/product/product-detail-page.tsx` lines 361-393)
- **Safe Area Support:** iOS home indicator alanına uyum zorunlu - `pb-[max(1rem,env(safe-area-inset-bottom))]` veya `pb-[env(safe-area-inset-bottom)]` (kanıt: `src/components/product/product-view.tsx` line 268, `src/components/app/mobile-bottom-nav.tsx` line 84)

**Evidence:** `src/components/product/product-view.tsx` (lines 268-308, sticky bar), `src/components/product/product-detail-page.tsx` (lines 361-393), `src/components/app/mobile-bottom-nav.tsx` (line 84, safe area)

### 2.2 Touch Target Sizes
- **Minimum Size:** Yeni/yenilenen interactive elementler minimum `h-11` (44px) veya `min-h-11` (kanıt: `src/components/app/mobile-bottom-nav.tsx` lines 103, 164, `src/components/ui/button.tsx` line 24)
- **Button Heights:** Kritik butonlar `h-12` (48px) - Sepete Ekle, Checkout (kanıt: `src/components/product/product-view.tsx` line 288, `src/app/checkout/page.tsx` line 298)
- **Icon Buttons:** `h-11 w-11` (44x44px) standard (kanıt: `src/components/theme/theme-toggle.tsx` line 25, `src/components/layout/header.tsx` lines 186, 226)

**Evidence:** `src/components/app/mobile-bottom-nav.tsx` (min-h-11), `src/components/product/product-view.tsx` (h-12), `src/components/ui/button.tsx` (h-11 default), `src/components/theme/theme-toggle.tsx` (h-11 w-11)

### 2.3 Single-Hand Usage (Thumb Zone)
- **Bottom Navigation:** Mobile bottom nav fixed bottom, 5 tab (Home, Categories, Cart, Wishlist, Profile) - tek elle erişilebilir (kanıt: `src/components/app/mobile-bottom-nav.tsx` lines 84-225)
- **Sticky Actions:** Kritik aksiyonlar ekranın altında, thumb-zone içinde (kanıt: `src/components/product/product-view.tsx` line 268)

**Evidence:** `src/components/app/mobile-bottom-nav.tsx` (fixed bottom, 5 tabs), `src/components/product/product-view.tsx` (sticky bottom)

### 2.4 Visual Hierarchy
- **One Primary CTA:** Her ekranda sadece 1 ana CTA (örn: Ürün detayda "Sepete Ekle", Checkout'ta "Siparişi Tamamla")
- **Secondary Actions:** Favori butonu, theme toggle gibi ikincil aksiyonlar daha küçük, daha az vurgulu (kanıt: `src/components/product/product-view.tsx` lines 277-283, FavoriteButton secondary)

**Evidence:** `src/components/product/product-view.tsx` (primary: Sepete Ekle, secondary: FavoriteButton), `src/app/checkout/page.tsx` (primary: Siparişi Tamamla)

---

## 3. Interaction & Feedback Rules

### 3.1 Critical Action Feedback Pattern
**Sepete Ekleme Pattern (Hard Rule):**
1. Button click → `addItem()` çağrılır
2. **Local state:** `setIsAdded(true)` - button text: "Eklendi ✓" veya "Eklendi", success state uses status-success styling (currently green palette, e.g. `bg-green-600`)
3. **Toast:** `toast.success("Ürün sepete eklendi")` - kısa, eylem odaklı mesaj
4. **Timeout:** 2s sonra state reset (`setIsAdded(false)`) - button normal haline döner

**Implementation:**
- Product View: `setIsAdded(true)` + `toast.success()` + `setTimeout(() => setIsAdded(false), 2000)` (kanıt: `src/components/product/product-view.tsx` lines 79-83)
- AddToCartBar: `setAdded(true)` + `setTimeout(() => setAdded(false), 400)` - daha kısa timeout (kanıt: `src/components/cart/add-to-cart-bar.tsx` lines 36-37)

**Evidence:** `src/components/product/product-view.tsx` (lines 62-83, add to cart pattern), `src/components/cart/add-to-cart-bar.tsx` (lines 24-38), `src/app/layout.tsx` (line 82, Toaster mount)

### 3.2 Toast Usage Rules
- **Library:** Sonner (`sonner@2.0.7`) zorunlu, başka toast library kullanılamaz (kanıt: `package.json`, `src/app/layout.tsx` line 82)
- **Position:** `position="top-center"` sabit, değiştirilemez (kanıt: `src/app/layout.tsx` line 82)
- **Rich Colors:** `richColors` prop aktif (kanıt: `src/app/layout.tsx` line 82)
- **Kullanım Kuralı:** Sadece kritik aksiyonlarda toast (sepete ekleme, sipariş oluşturma), her tıkta toast yok

**Evidence:** `src/app/layout.tsx` (line 82, Toaster config), `src/components/product/product-view.tsx` (line 81, toast.success), `package.json` (sonner@2.0.7)

### 3.3 Button State Feedback
- **Active Scale:** Tüm butonlarda `active:scale-[0.98]` veya `active:scale-95` - dokunsal feedback (kanıt: `src/components/product/product-view.tsx` line 288, `src/components/ui/button.tsx` line 7)
- **Loading State:** Checkout gibi kritik form submit'lerde `isLoading` state + "İşleniyor..." text (kanıt: `src/app/checkout/page.tsx` lines 31, 300)
- **Disabled State:** `disabled:opacity-50` veya `disabled:opacity-60` (kanıt: `src/components/cart/add-to-cart-bar.tsx` line 46, `src/app/checkout/page.tsx` line 297)

**Evidence:** `src/components/product/product-view.tsx` (active:scale-[0.98]), `src/app/checkout/page.tsx` (isLoading + "İşleniyor..."), `src/components/cart/add-to-cart-bar.tsx` (disabled:opacity-60)

### 3.4 Error Feedback
- **Form Errors:** Inline error display - `setError()` + error div (kanıt: `src/app/checkout/page.tsx` lines 32, 117-121)
- **Validation Errors:** Server Action'dan dönen Zod validation errors inline gösterilir (kanıt: `src/app/checkout/page.tsx` lines 86-88)
- **Critical Errors:** Toast + inline açıklama kombinasyonu (assumption: kritik hatalar için, kanıt yok)

**Evidence:** `src/app/checkout/page.tsx` (lines 32, 117-121, error display), `src/actions/checkout.ts` (Zod validation)

---

## 4. Mobile-First Patterns

### 4.1 Mobile Bottom Navigation Rules
- **Visibility:** `xl:hidden` - sadece mobile'da görünür (kanıt: `src/components/app/mobile-bottom-nav.tsx` line 84)
- **Hidden on Product Detail:** `/urun/[slug]` sayfalarında bottom nav gizlenir - bilinçli istisna (kanıt: `src/components/app/mobile-bottom-nav.tsx` lines 47-50)
- **5 Tabs:** Home, Categories, Cart (drawer), Wishlist, Profile - `orderIndex` sırasıyla (kanıt: `src/components/app/mobile-tabs.ts`, `src/components/app/mobile-bottom-nav.tsx` lines 71-79)
- **Cart Drawer Pattern:** Cart tab'ı tıklandığında drawer açılır, route push yok (kanıt: `src/components/app/mobile-bottom-nav.tsx` lines 93-138)

**Evidence:** `src/components/app/mobile-bottom-nav.tsx` (lines 47-50, 84, 93-138), `src/components/app/mobile-tabs.ts` (tab config)

### 4.2 Bottom Sheet / Drawer Usage
- **Cart Drawer:** Mobile'da sepet drawer pattern ile açılır (Vaul library) (kanıt: `src/components/app/mobile-bottom-nav.tsx` lines 82, 227-237)
- **Address Form Drawer:** Checkout'ta adres ekleme drawer ile (kanıt: `src/app/checkout/page.tsx` line 306, `src/components/account/address-form.tsx` line 89)
- **Pattern:** Bottom-up slide animasyon, `rounded-t-2xl` top corners, backdrop blur (kanıt: `src/components/ui/drawer.tsx`, `src/components/app/mobile-bottom-nav.tsx` line 227)

**Evidence:** `src/components/app/mobile-bottom-nav.tsx` (cart drawer), `src/components/ui/drawer.tsx` (drawer component), `src/components/account/address-form.tsx` (address form drawer)

### 4.3 Touch Interactions
- **Press Preview:** ProductCard'ta 150ms long-press ile 2. resim gösterimi (kanıt: `src/components/product/product-card.tsx` lines 121-170, `PRESS_PREVIEW_DELAY_MS = 150`)
- **Active Scale:** `active:scale-[0.98]` veya `active:scale-95` - dokunsal feedback (kanıt: `src/components/product/product-card.tsx` line 202, `src/components/product/product-view.tsx` line 288)
- **Touch Callout Disable:** Image area'da `[-webkit-touch-callout:none]` (kanıt: `src/components/product/product-card.tsx` line 209)

**Evidence:** `src/components/product/product-card.tsx` (lines 12-15, 121-170, press preview), `src/components/product/product-view.tsx` (active:scale)

---

## 5. Navigation & Scroll Behavior

### 5.1 Scroll Restoration
- **Tab Scroll Preservation:** Mobile tab'lar arası geçişte scroll pozisyonu korunur - `tab-scroll.ts` ile sessionStorage (kanıt: `src/components/app/tab-scroll.ts`, `src/components/app/page-transition.tsx` lines 46-63)
- **Scroll Intent:** Tab navigasyon intent'i kaydedilir, scroll restore paint'ten önce uygulanır (kanıt: `src/components/app/page-transition.tsx` lines 46-63, `useLayoutEffect`)

**Evidence:** `src/components/app/tab-scroll.ts` (scroll save/read functions), `src/components/app/page-transition.tsx` (lines 46-63, scroll restore), `src/components/app/mobile-bottom-nav.tsx` (lines 149-161, scroll save on click)

### 5.2 Link Navigation
- **Scroll Disable:** Tab navigation'da `scroll={false}` - Next.js Link default scroll davranışı devre dışı (kanıt: `src/components/app/mobile-bottom-nav.tsx` line 148)
- **Prefetch:** Unknown (Next.js Link default prefetch davranışı)

**Evidence:** `src/components/app/mobile-bottom-nav.tsx` (line 148, scroll={false})

### 5.3 Page Transitions
- **Horizontal Slide:** Tab'lar arası geçişte horizontal slide animasyon (framer-motion) (kanıt: `src/components/app/page-transition.tsx` lines 115-125)
- **Direction:** Tab index'e göre sağdan/soldan geliş (kanıt: `src/components/app/page-transition.tsx` lines 98-109)
- **Reduced Motion:** `useReducedMotion()` hook ile animasyon disable (kanıt: `src/components/app/page-transition.tsx` lines 85, 112)

**Evidence:** `src/components/app/page-transition.tsx` (lines 82-160, page transition logic), `package.json` (framer-motion@12.23.26)

---

## 6. Forms & Checkout UX

### 6.1 Form Validation Pattern
- **Validation Library:** React Hook Form + Zod zorunlu (kanıt: `package.json` react-hook-form@7.69.0, zod@4.2.1, `src/app/checkout/page.tsx`)
- **Validation Timing:** Server Action'da Zod validation - submit sonrası (kanıt: `src/actions/checkout.ts` lines 7-18, 28)
- **Error Display:** Inline error - `setError()` + error div (kanıt: `src/app/checkout/page.tsx` lines 32, 117-121)

**Evidence:** `src/app/checkout/page.tsx` (form validation), `src/actions/checkout.ts` (Zod schema), `src/components/account/address-form.tsx` (React Hook Form)

### 6.2 Input Patterns
- **Input Type:** Standard Input component (`src/components/ui/input.tsx`) (kanıt: `src/components/ui/input.tsx`)
- **Autocomplete:** Unknown (autocomplete attribute kullanımı görülmedi)
- **Focus Ring:** `focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2` (kanıt: `src/components/ui/input.tsx` line 6)

**Evidence:** `src/components/ui/input.tsx` (input component), `src/app/checkout/page.tsx` (form inputs)

### 6.3 Checkout Flow UX
- **Empty Cart Handling:** Sepet boşsa `/cart` redirect (kanıt: `src/app/checkout/page.tsx` lines 100-111, 64-67)
- **Loading State:** Submit sırasında `isLoading` + "İşleniyor..." text, button disabled (kanıt: `src/app/checkout/page.tsx` lines 31, 297, 300)
- **Error Recovery:** Validation error'lar inline gösterilir, kullanıcı düzeltebilir (kanıt: `src/app/checkout/page.tsx` lines 86-88, 117-121)
- **Success Redirect:** Sipariş başarılı → `/order-success/[id]` redirect (kanıt: `src/app/checkout/page.tsx` lines 82-84)

**Evidence:** `src/app/checkout/page.tsx` (checkout flow), `src/actions/checkout.ts` (order creation)

---

## 7. Loading / Empty / Error States

### 7.1 Loading States
- **Skeleton Component:** `src/components/ui/skeleton.tsx` - `animate-pulse rounded-md bg-muted` (kanıt: `src/components/ui/skeleton.tsx`)
- **Loading.tsx Pattern:** Route segment'lerde `loading.tsx` dosyası (kanıt: `src/app/[slug]/loading.tsx`, `src/app/urun/[slug]/loading.tsx`)
- **Suspense Fallback:** Search sayfasında Suspense + "Aranıyor..." fallback (kanıt: `src/app/search/page.tsx` lines 154-162)
- **Button Loading:** Checkout'ta `isLoading` state + "İşleniyor..." text (kanıt: `src/app/checkout/page.tsx` line 300)

**Evidence:** `src/components/ui/skeleton.tsx` (skeleton component), `src/app/[slug]/loading.tsx` (category loading), `src/app/urun/[slug]/loading.tsx` (product loading), `src/app/search/page.tsx` (Suspense), `src/app/checkout/page.tsx` (button loading)

### 7.2 Empty States
- **Empty Cart:** Checkout'ta boş sepet state - "Sepetiniz boş" + "Alışverişe Devam Et" button (kanıt: `src/app/checkout/page.tsx` lines 100-111)
- **Empty Search:** Search sayfasında "Sonuç bulunamadı" + kategori linki (kanıt: `src/app/search/page.tsx` lines 77-88)
- **Empty Addresses:** Checkout'ta adres yoksa "Henüz adres eklenmemiş" + "İlk Adresini Ekle" button (kanıt: `src/app/checkout/page.tsx` lines 146-157)
- **Other Empty States:** Unknown (ürün listesi boş, favoriler boş, vb. empty state component'leri görülmedi)

**Evidence:** `src/app/checkout/page.tsx` (empty cart, empty addresses), `src/app/search/page.tsx` (empty search)

### 7.3 Error States
- **Error Boundary:** Root level `error.tsx` yok (kanıt: codebase search sonuçsuz)
- **API Error Handling:** Try-catch blokları ile error handling (kanıt: `src/app/api/search/route.ts`, `src/app/api/auth/signup/route.ts`)
- **Form Error Display:** Inline error div - `text-destructive bg-destructive/10` (kanıt: `src/app/checkout/page.tsx` lines 117-121)

**Evidence:** `src/app/checkout/page.tsx` (error display), `src/app/api/search/route.ts` (try-catch), codebase search (error.tsx bulunamadı)

---

## 8. Motion & Reduced Motion

### 8.1 Animation Library
- **Framer Motion:** `framer-motion@12.23.26` zorunlu (kanıt: `package.json`, `src/components/app/page-transition.tsx`)
- **Animation Purpose:** Yönlendirme (page transitions), geri bildirim (button press, drawer slide)

**Evidence:** `package.json` (framer-motion@12.23.26), `src/components/app/page-transition.tsx` (page transitions)

### 8.2 Reduced Motion Support
- **Hook:** `useReducedMotion()` hook kullanılıyor (framer-motion) (kanıt: `src/components/app/page-transition.tsx` line 85)
- **Implementation:** `shouldAnimate = !reducedMotion && direction !== 0` - reduced motion aktifse animasyon disable (kanıt: `src/components/app/page-transition.tsx` lines 112, 127-136)
- **CSS Media Query:** Unknown (CSS `@media (prefers-reduced-motion)` kullanımı görülmedi, sadece framer-motion hook)

**Evidence:** `src/components/app/page-transition.tsx` (lines 85, 112, 127-136, reduced motion support)

### 8.3 Animation Duration & Easing
- **Page Transitions:** Spring animation - `stiffness: 300, damping: 35, bounce: 0` (kanıt: `src/components/app/page-transition.tsx` lines 129-133)
- **Button Press:** `active:scale-[0.98]` - instant feedback, no delay
- **Drawer:** Bottom-up slide (Vaul library default timing)

**Evidence:** `src/components/app/page-transition.tsx` (spring config), `src/components/product/product-view.tsx` (active:scale)

### 8.4 Motion Rules
- **Aşırı Animasyon Yok:** Sadece gerekli animasyonlar (page transitions, button feedback, drawer slide)
- **Performance:** `will-change:transform` kullanılıyor (kanıt: `src/components/app/page-transition.tsx` line 150)

**Evidence:** `src/components/app/page-transition.tsx` (will-change), `src/components/product/product-view.tsx` (minimal animations)

---

## 9. Accessibility UX Rules (Behavioral)

### 9.1 Keyboard Navigation
- **Focus Ring:** Tüm interactive elementlerde `focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2` (kanıt: `src/components/ui/button.tsx` line 7, `src/components/app/mobile-bottom-nav.tsx` lines 104, 165)
- **Tab Order:** Native HTML semantics - button, link, input sırasıyla (assumption)
- **Escape Key:** Dialog/Drawer kapatma (Radix UI built-in) (kanıt: `src/components/ui/dialog.tsx`, `src/components/ui/drawer.tsx`)

**Evidence:** `src/components/ui/button.tsx` (focus-visible:ring), `src/components/app/mobile-bottom-nav.tsx` (focus ring), `src/components/ui/dialog.tsx` (Radix UI)

### 9.2 Focus Management
- **Dialog Focus Trap:** Radix UI Dialog built-in focus trap (kanıt: `src/components/ui/dialog.tsx`)
- **Focus Visible:** `focus-visible:` pseudo-class kullanılıyor (mouse ile tıklamada focus ring yok, klavye ile var)

**Evidence:** `src/components/ui/dialog.tsx` (Radix UI focus trap), `src/components/ui/button.tsx` (focus-visible)

### 9.3 Screen Reader Support
- **ARIA Labels:** Icon-only butonlarda `aria-label` (kanıt: `src/components/app/mobile-bottom-nav.tsx` line 108, `src/components/cart/add-to-cart-bar.tsx` line 47)
- **ARIA Current:** Active tab için `aria-current="page"` (kanıt: `src/components/app/mobile-bottom-nav.tsx` lines 109, 169)
- **Semantic HTML:** Native elements (button, nav, form) kullanılıyor

**Evidence:** `src/components/app/mobile-bottom-nav.tsx` (aria-label, aria-current), `src/components/cart/add-to-cart-bar.tsx` (aria-label)

### 9.4 Error Message Readability
- **Error Display:** Inline error div - `text-destructive bg-destructive/10` - yeterli kontrast (kanıt: `src/app/checkout/page.tsx` lines 117-121)
- **Screen Reader Announcements:** Unknown (live region kullanımı görülmedi)

**Evidence:** `src/app/checkout/page.tsx` (error display), Unknown (live regions)

---

## 10. Copy & Microcopy Rules

### 10.1 Toast Messages
- **Format:** Kısa, eylem odaklı - "Ürün sepete eklendi" (kanıt: `src/components/product/product-view.tsx` line 81)
- **Language:** Türkçe (kanıt: `src/components/product/product-view.tsx` line 81, `src/app/checkout/page.tsx` error messages)

**Evidence:** `src/components/product/product-view.tsx` (line 81, toast message), `src/app/checkout/page.tsx` (Turkish error messages)

### 10.2 Button Labels
- **Action-Oriented:** "Sepete Ekle", "Siparişi Tamamla", "İşleniyor..." (kanıt: `src/components/product/product-view.tsx` line 302, `src/app/checkout/page.tsx` line 300)
- **State Labels:** "Eklendi ✓" veya "Eklendi" - başarı durumu (kanıt: `src/components/product/product-view.tsx` line 297, `src/components/cart/add-to-cart-bar.tsx` line 49)

**Evidence:** `src/components/product/product-view.tsx` (button labels), `src/app/checkout/page.tsx` (button labels), `src/components/cart/add-to-cart-bar.tsx` (button labels)

### 10.3 Error Messages
- **User-Friendly:** "Lütfen bir adres seçiniz", "Sepetiniz boş" - açıklayıcı, eylem odaklı (kanıt: `src/app/checkout/page.tsx` lines 60, 65)
- **Validation Errors:** Zod error messages - "Geçerli bir adres seçiniz" (kanıt: `src/actions/checkout.ts` line 8)

**Evidence:** `src/app/checkout/page.tsx` (error messages), `src/actions/checkout.ts` (Zod error messages)

---

## 11. Do / Don't

### DO
1. ✅ **Kritik aksiyonlarda loading + toast:** Sepete ekleme, sipariş oluşturma gibi kritik aksiyonlarda button loading state + toast feedback
2. ✅ **Sticky CTA sadece kritik yerlerde:** Ürün detay, checkout gibi kritik sayfalarda sticky action bar
3. ✅ **Touch target min 44px:** Yeni/yenilenen interactive elementler `h-11` (44px) veya daha büyük
4. ✅ **Safe area support:** iOS home indicator alanına uyum - `env(safe-area-inset-bottom)`
5. ✅ **Reduced motion support:** `useReducedMotion()` hook ile animasyon disable
6. ✅ **Tab scroll preservation:** Mobile tab'lar arası geçişte scroll pozisyonu korunur
7. ✅ **Inline error display:** Form validation error'lar inline gösterilir
8. ✅ **Active scale feedback:** Tüm butonlarda `active:scale-[0.98]` dokunsal feedback

### DON'T
1. ❌ **Her tıkta toast:** Sadece kritik aksiyonlarda toast, her tıkta değil
2. ❌ **PDP'de bottom nav göster:** `/urun/[slug]` sayfalarında bottom nav gizlenir (evidence: `src/components/app/mobile-bottom-nav.tsx` lines 47-50)
3. ❌ **Küçük touch target:** 44px'den küçük interactive element yok
4. ❌ **Aşırı animasyon:** Sadece gerekli animasyonlar (page transitions, button feedback)
5. ❌ **Scroll restore yok:** Tab navigation'da scroll pozisyonu kaybolmamalı
6. ❌ **Error toast-only:** Form error'lar sadece toast ile gösterilmez, inline da gösterilir
7. ❌ **No loading state:** Kritik form submit'lerde loading state olmadan button disabled değil

**Evidence:** `src/components/product/product-view.tsx` (DO examples), `src/app/checkout/page.tsx` (DO examples), `src/components/app/mobile-bottom-nav.tsx` (DON'T: PDP bottom nav hide, lines 47-50)

---

## 12. Exceptions (Allowed Deviations)

### 12.1 Product Detail Page - Bottom Nav Hidden
- **Exception:** `/urun/[slug]` sayfalarında mobile bottom nav gizlenir (kanıt: `src/components/app/mobile-bottom-nav.tsx` lines 47-50)
- **Reasoning:** Sticky action bar (Sepete Ekle) ile çakışmayı önlemek, ekran alanını optimize etmek
- **Pattern:** `if (pathname?.startsWith("/urun/")) return null;`

**Evidence:** `src/components/app/mobile-bottom-nav.tsx` (lines 47-50, product detail hide)

### 12.2 AddToCartBar - Shorter Timeout
- **Exception:** `AddToCartBar` component'inde `setTimeout(() => setAdded(false), 400)` - daha kısa timeout (kanıt: `src/components/cart/add-to-cart-bar.tsx` line 37)
- **Reasoning:** Product View'da 2s, AddToCartBar'da 400ms - farklı context'lerde farklı timing

**Evidence:** `src/components/cart/add-to-cart-bar.tsx` (line 37, 400ms timeout), `src/components/product/product-view.tsx` (line 82, 2000ms timeout)

### 12.3 Checkout - No Toast on Error
- **Exception:** Checkout'ta validation error'lar sadece inline gösterilir, toast yok (kanıt: `src/app/checkout/page.tsx` lines 117-121)
- **Reasoning:** Form error'lar inline daha uygun, toast kullanıcıyı bölebilir

**Evidence:** `src/app/checkout/page.tsx` (inline error, no toast)

---

## 13. Open Gaps

### 13.1 Error Handling
- **Global Error Boundary:** Root level `error.tsx` yok - global error boundary pattern'i kullanılmıyor (kanıt: codebase search sonuçsuz)
- **Error Logging:** `console.error` kullanılıyor, structured logging yok (kanıt: `src/app/api/search/route.ts` line 99)

**Evidence:** Codebase search (error.tsx bulunamadı), `src/app/api/search/route.ts` (console.error)

### 13.2 Empty States
- **Product List Empty:** Kategori/arama sayfalarında ürün yoksa empty state component'i görülmedi
- **Favorites Empty:** Favoriler boşsa empty state görülmedi
- **Orders Empty:** Sipariş listesi boşsa empty state görülmedi

**Evidence:** Unknown (empty state components görülmedi)

### 13.3 Accessibility
- **Skip Links:** Ana içeriğe atlama linki yok
- **Live Regions:** Dynamic content değişikliklerinde `aria-live` kullanımı görülmedi
- **Focus Visible Enhancement:** Focus ring görünürlüğü yeterli ama bazı durumlarda iyileştirilebilir

**Evidence:** Unknown (skip links, live regions görülmedi)

### 13.4 Motion
- **CSS Reduced Motion:** Framer Motion `useReducedMotion()` hook var ama CSS `@media (prefers-reduced-motion)` kullanımı görülmedi
- **Animation Performance:** Bazı animasyonlarda `will-change` kullanılıyor ama tüm animasyonlarda değil

**Evidence:** `src/components/app/page-transition.tsx` (will-change var), Unknown (CSS reduced motion)

### 13.5 Form UX
- **Input Autocomplete:** Form input'larında `autocomplete` attribute kullanımı görülmedi
- **Form Field Error Display:** React Hook Form error display pattern'i görülmedi (sadece Server Action error'lar inline)

**Evidence:** Unknown (autocomplete, React Hook Form error display)

---

## 14. Evidence Index

1. **src/components/product/product-view.tsx** - Sepete ekleme pattern, toast, button state, sticky action bar (lines 62-83, 268-308)
2. **src/components/app/mobile-bottom-nav.tsx** - Bottom nav, PDP bottom nav hide (lines 47-50), safe area, touch targets (lines 84, 103, 164)
3. **src/app/layout.tsx** - Toaster mount, position config (line 82)
4. **src/components/cart/add-to-cart-bar.tsx** - Add to cart bar, shorter timeout (lines 24-38, 46-49)
5. **src/app/checkout/page.tsx** - Checkout flow, form validation, error display, loading state (lines 25-309)
6. **src/components/app/page-transition.tsx** - Page transitions, reduced motion, scroll restore (lines 82-160)
7. **src/components/app/tab-scroll.ts** - Tab scroll preservation (scroll save/read functions)
8. **src/components/product/product-card.tsx** - Press preview, touch interactions (lines 12-15, 121-170)
9. **src/components/ui/skeleton.tsx** - Skeleton loading component
10. **src/app/[slug]/loading.tsx** - Category loading state
11. **src/app/urun/[slug]/loading.tsx** - Product loading state
12. **src/app/search/page.tsx** - Search page, Suspense, empty state (lines 77-88, 154-162)
13. **src/components/ui/button.tsx** - Button component, focus ring, active scale (line 7)
14. **src/components/ui/input.tsx** - Input component, focus ring
15. **src/components/ui/drawer.tsx** - Drawer component, bottom sheet pattern
16. **src/components/ui/dialog.tsx** - Dialog component, focus trap
17. **src/actions/checkout.ts** - Checkout Server Action, Zod validation (lines 7-18, 28)
18. **src/components/account/address-form.tsx** - Address form, React Hook Form
19. **src/components/theme/theme-toggle.tsx** - Theme toggle, touch target (line 25)
20. **src/components/layout/header.tsx** - Header, touch targets (lines 186, 226)
21. **package.json** - Dependencies (next@16.1.1, react@19.2.3, react-dom@19.2.3, sonner@2.0.7, framer-motion@12.23.26, react-hook-form@7.69.0, zod@4.2.1)
22. **src/components/app/mobile-tabs.ts** - Mobile tabs config, tab matching
23. **src/app/not-found.tsx** - Not found page (error handling reference)

---

**Not:** Bu doküman, repo'nun mevcut durumuna göre oluşturulmuştur. Yeni UX pattern'leri eklendiğinde veya mevcut pattern'ler değiştirildiğinde bu doküman güncellenmelidir.